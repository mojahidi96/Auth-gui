<app-notification [apiResponse]="verificationApiResponse"></app-notification>
<div class="container mt-4">
    <div class="row">
        <div class="col-md-3"></div>
        <div class="col-md-6 card shadow mt-4">
            <h1>
                <div class="text-center mt-4">Chang password</div>
            </h1>
            <form [formGroup]="changePasswordForm" class="card-body mt-4" (ngSubmit)="onSubmit()">
                <div class="form-group"><label for="email">Email</label><input type="text" id="email"
                        class="form-control" formControlName="email" placeholder="Enter email"
                        [ngClass]="{'is-invalid': changePassControls.email.dirty && changePassControls.email.errors}"
                        [readOnly]="verificationApiResponse?.success">
                    <div *ngIf="changePassControls.email.hasError('required')" class="invalid-feedback">Email is
                        required
                    </div>
                    <div *ngIf="changePassControls.email.hasError('pattern')" class="invalid-feedback">Invalid email
                    </div>
                </div>
                <div class="form-group"><button type="button" [disabled]="verificationApiResponse?.success"
                        class="btn btn-link float-right" (click)="getAccessCode()">Send
                        code</button></div>

                <div *ngIf="verificationApiResponse?.success">

                    <div class="form-group"><label for="verificationCode">Verification Code</label><input type="text"
                            id="verificationCode" class="form-control" formControlName="verificationCode"
                            placeholder="Enter verification"></div>

                    <div class="form-group"><label for="password">Password</label><input type="password" name=""
                            id="password" class="form-control" formControlName="password" placeholder="Enter password">
                    </div>
                    <div class="form-group"><label for="confPassword">Confirm password</label><input type="password"
                            name="" id="confPassword" class="form-control" formControlName="confPassword"
                            Placeholder="Enter confirm password"></div>
                    <div class="form-row mt-4">
                        <div class="col-md-6">
                            <div class="form-group"><button type="button" class="btn btn-primary"
                                    routerLink="/login">Cancel</button></div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group"><button type="submit" class="btn btn-danger float-right">Change
                                    password</button></div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="col-md-3"></div>
    </div>
</div>